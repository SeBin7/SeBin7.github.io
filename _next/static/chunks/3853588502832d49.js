(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28145,e=>{"use strict";var r=e.i(69287),s=e.i(77121),t=e.i(71317);function a(...e){return e.filter(Boolean).join(" ")}function l(e){return null!=e&&Number.isFinite(e)?Math.max(0,Math.min(100,e)):null}function n(e){if(null==e||!Number.isFinite(e))return"—";let r=e>1e12?e:e>1e9?1e3*e:null;if(null==r)return String(e);try{return new Date(r).toLocaleString()}catch{return String(e)}}function i(e){return null!=e&&Number.isFinite(e)?`${e.toFixed(1)}%`:"—"}function d(e){if(null==e||!Number.isFinite(e))return"—";let r=e/1024;return`${r.toFixed(r>=10?0:1)}GB`}function c(e){return null!=e&&Number.isFinite(e)?e.toFixed(e>=10?1:2):"—"}function o(e){return null!=e&&Number.isFinite(e)?`${Math.round(e)}MHz`:"—"}function u(e){return null!=e&&Number.isFinite(e)?`${e.toFixed(e>=10?0:1)}W`:"—"}function m(e){return null!=e&&Number.isFinite(e)?`${e.toFixed(e>=10?1:2)}ms`:"—"}function b(e,r=3){return null!=e&&Number.isFinite(e)?e.toFixed(r):"—"}function x(e){return e?.xpu_busy_pct??e?.render_busy_pct}function p(e){return e?.xpu_busy_src?e.xpu_busy_src:e?.source&&e.source.includes("intel_gpu_top")?e.source:void 0}function h(e){return e?.xpu_freq_act_mhz??e?.xpu_freq_mhz}function _(e){return e?.xpu_freq_req_mhz}function g(e){return e?.xpu_device}function N(e){return e?.xpu_engines_busy_pct??e?.engines_busy_pct??null}function k(e){return e?Object.entries(e).map(([e,r])=>[e,Number(r)]).filter(([,e])=>Number.isFinite(e)).sort((e,r)=>r[1]===e[1]?e[0].localeCompare(r[0]):r[1]-e[1]):[]}let j=["Render/3D","Blitter","Video","VideoEnhance"];function f(e){let r=N(e);if(r)return j.map(e=>{let s=r[e];return[e,Number.isFinite(Number(s))?Number(s):void 0]});let s=x(e),t=p(e);return null!=s&&Number.isFinite(Number(s))&&"intel_gpu_top"===t?[["Render/3D",Number(s)],["Blitter",0],["Video",0],["VideoEnhance",0]]:[["Render/3D",void 0],["Blitter",void 0],["Video",void 0],["VideoEnhance",void 0]]}function v(e,r){let s=e?.xpu_ze_engine_util_pct?.[r]??e?.engine_util_pct?.[r];return Number.isFinite(Number(s))?Number(s):void 0}function y(e){return v(e,"render_all")??v(e,"render_single")}function w(e){return v(e,"copy_all")??v(e,"copy_single")}function S(e){let r=e?.busy_pct??e?.xpu_ze_busy_pct;if(Number.isFinite(Number(r)))return Number(r);let s=[y(e),w(e)].filter(e=>null!=e);return s.length?Math.max(...s):void 0}function $(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function z(e){return $(e)&&("ok"in e||"kind"in e||"data"in e||"error"in e)}function q(e){return(0,r.jsxs)("div",{className:"rounded-2xl border border-black/10 bg-black/5 p-4 text-sm dark:border-white/10 dark:bg-white/5",children:[(0,r.jsx)("div",{className:"font-medium opacity-80",children:e.title}),(0,r.jsx)("div",{className:"mt-2 text-2xl font-semibold tabular-nums",children:e.value}),e.sub?(0,r.jsx)("div",{className:"mt-1 text-xs opacity-70",children:e.sub}):null,null!=e.pct?(0,r.jsx)("div",{className:"mt-3 h-2 w-full rounded-full bg-black/10 dark:bg-white/10",children:(0,r.jsx)("div",{className:"h-2 rounded-full bg-emerald-500/60",style:{width:`${e.pct}%`}})}):null,e.extra?(0,r.jsx)("div",{className:"mt-2",children:e.extra}):null,e.breakdown?(0,r.jsxs)("details",{className:"mt-2 text-xs opacity-70",children:[(0,r.jsx)("summary",{className:"cursor-pointer select-none",children:e.breakdownLabel??"details"}),(0,r.jsx)("div",{className:"mt-2",children:e.breakdown})]}):null]})}function F(){let e,b,j=(0,t.useRef)(null),v=(0,t.useRef)(null),[F,R]=(0,t.useState)(null),[B,O]=(0,t.useState)(null),[T,L]=(0,t.useState)(null),[D,E]=(0,t.useState)(null),[U,M]=(0,t.useState)(!0),[X,I]=(0,t.useState)(null),[V,H]=(0,t.useState)(null),[G,J]=(0,t.useState)(null),[K,W]=(0,t.useState)(null),[Z,Q]=(0,t.useState)(!1),[Y,ee]=(0,t.useState)("compare"),[er,es]=(0,t.useState)(1024),[et,ea]=(0,t.useState)(16),[el,en]=(0,t.useState)(10),[ei,ed]=(0,t.useState)(200),[ec,eo]=(0,t.useState)(500),[eu,em]=(0,t.useState)(""),[eb,ex]=(0,t.useState)(""),[ep,eh]=(0,t.useState)(""),[e_,eg]=(0,t.useState)([]);async function eN(){O(null);try{let e=await fetch("/api/roadvision/health",{cache:"no-store"}),r=await e.json().catch(()=>({})),s=!!r?.ok;if(R(s),s)r?.note&&O(String(r.note));else{let e=r?.target?`target=${r.target}`:"",s=r?.status!=null?`status=${r.status}`:"",t=r?.error||r?.detail||"remote health check failed";O([t,e,s].filter(Boolean).join(" · "))}}catch(e){R(!1),O(e?.message??String(e))}}async function ek(e){E(null);try{let r=await fetch(`/api/roadvision/metrics${e?"?probe=1":""}`,{cache:"no-store"}),s=await r.json().catch(()=>({}));if(!r.ok||s?.ok===!1){let e=s?.error||s?.detail||`HTTP ${r.status}`,t=s?.target?`target=${s.target}`:"",a=s?.status!=null?`status=${s.status}`:"";E([e,t,a].filter(Boolean).join(" · "));return}let t=s?.metrics??null;L(t&&"object"==typeof t?t:null)}catch(e){E(e instanceof Error?e.message:String(e))}}async function ej(){J(null);try{let e=await fetch("/api/xpu/matmul",{cache:"no-store"}),r=await e.json().catch(()=>({})),s="number"==typeof r?.received_at_ms?r.received_at_ms:Date.now(),t="number"==typeof r?.status?r.status:void 0,a="string"==typeof r?.target?r.target:void 0;if(W({receivedAt:s,status:t,target:a}),r?.ok===!1){let e=r.error??(null!=t?`HTTP ${t}`:"request failed"),s=[a?`target=${a}`:null,r.cause?`cause=${r.cause}`:null].filter(Boolean).join(" · "),l="string"==typeof r.upstream?r.upstream.slice(0,600):$(r.upstream)?JSON.stringify(r.upstream,null,2).slice(0,1200):"";J([e,s,l].filter(Boolean).join("\n"));return}let l=r?.upstream,n=z(l)?l:null;I(n),U&&H(null)}catch(e){J(e instanceof Error?e.message:String(e))}}async function ef(){J(null),Q(!0);let e={bench:Y,N:er,iters:el,sample_ms:ei,max_samples:ec};"sycl"===Y&&(e.tile=et),eu.trim()&&(e.run_id=eu.trim()),eb.trim()&&(e.tag=eb.trim()),ep.trim()&&(e.note=ep.trim());try{let r=await fetch("/api/xpu/matmul",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),cache:"no-store"}),s=await r.json().catch(()=>({})),t="number"==typeof s?.received_at_ms?s.received_at_ms:Date.now(),a="number"==typeof s?.status?s.status:void 0,l="string"==typeof s?.target?s.target:void 0;if(W({receivedAt:t,status:a,target:l}),s?.ok===!1){let e=s.error??(null!=a?`HTTP ${a}`:"request failed"),r=[l?`target=${l}`:null,s.cause?`cause=${s.cause}`:null].filter(Boolean).join(" · "),t="string"==typeof s.upstream?s.upstream.slice(0,600):$(s.upstream)?JSON.stringify(s.upstream,null,2).slice(0,1200):"";J([e,r,t].filter(Boolean).join("\n"));return}let n=s?.upstream,i=z(n)?n:null;I(i),M(!0),H(null),eg(r=>[{id:`${t}-${Math.random().toString(16).slice(2)}`,receivedAt:t,request:e,response:i},...r].slice(0,30))}catch(e){J(e instanceof Error?e.message:String(e))}finally{Q(!1)}}(0,t.useEffect)(()=>(eN(),ek(!0),j.current=window.setInterval(()=>ek(),1e3),()=>{null!=j.current&&window.clearInterval(j.current),j.current=null}),[]),(0,t.useEffect)(()=>(ej(),v.current=window.setInterval(()=>ej(),1e3),()=>{null!=v.current&&window.clearInterval(v.current),v.current=null}),[]);let ev=U?X:V,ey=T?T.source?.includes("intel_gpu_top")||null!=T.engines_busy_pct||null!=T.xpu_engines_busy_pct||null!=T.render_busy_pct||null!=T.xpu_busy_pct||null!=T.xpu_busy_src||null!=T.xpu_freq_mhz||null!=T.xpu_freq_act_mhz||null!=T.xpu_freq_req_mhz||null!=T.xpu_rc6_pct||null!=T.xpu_power_gpu_w||null!=T.xpu_power_pkg_w?T:T.intel_gpu_top?T.intel_gpu_top:null:null,ew=T?T.source?.includes("level_zero")||T.level_zero_sysman||T.level_zero?T.level_zero_sysman??T.level_zero??T:T.xpu_ze_engine_util_pct||null!=T.xpu_ze_busy_pct||null!=T.xpu_ze_ok?{source:"level_zero_sysman",ts:T.ts,xpu_ze_age_s:T.xpu_ze_age_s,xpu_ze_ok:T.xpu_ze_ok,xpu_ze_busy_pct:T.xpu_ze_busy_pct,xpu_ze_engine_util_pct:T.xpu_ze_engine_util_pct,xpu_ze_freq:T.xpu_ze_freq,xpu_ze_extras_error:T.xpu_ze_extras_error,ok:T.xpu_ze_ok,busy_pct:T.xpu_ze_busy_pct,engine_util_pct:T.xpu_ze_engine_util_pct}:null:null,eS=function(e){let r=N(e);if(r){for(let e of["Render/3D","render_all","render_single","render"]){let s=r[e];if(Number.isFinite(Number(s)))return{name:e,pct:Number(s)}}let e=k(r)[0];if(e)return{name:e[0],pct:e[1]}}let s=x(e);return null!=s&&Number.isFinite(Number(s))?{name:"util",pct:Number(s)}:null}(ey),e$=eS?.pct??x(ey)??void 0,ez=Array.isArray(e=ew?.xpu_ze_freq)&&e.length?e[0]??null:null,eq=(b=ew?.xpu_ze_extras_error)&&"object"==typeof b?Object.keys(b).sort():[],eF=ev?.ok,eA=$(ev?.data)?ev.data:null,eC=eA&&$(eA.bench)?eA.bench:null,eP=$(eC?.meta)?eC?.meta:null,eR=$(eC?.data)?eC?.data:null,eB="string"==typeof eR?.device?eR.device:void 0,eO=Array.isArray(eA?.samples)?eA?.samples:[],eT=eA&&$(eA.summary)?eA.summary:null,eL=eO.map(e=>Number.isFinite(Number(e?.xpu_busy_pct))?Number(e.xpu_busy_pct):null).filter(e=>null!=e),eD=eL.length?eL.reduce((e,r)=>e+r,0)/eL.length:void 0,eE=eL.length?Math.max(...eL):void 0,eU="number"==typeof eT?.xpu_busy_avg_pct?eT.xpu_busy_avg_pct:void 0,eM="number"==typeof eT?.xpu_busy_max_pct?eT.xpu_busy_max_pct:void 0,eX=eU??eD,eI=eM??eE,eV="number"==typeof eT?.duration_s?eT.duration_s:void 0,eH=eA&&"string"==typeof eA.stderr_tail?eA.stderr_tail:void 0,eG=eA&&"string"==typeof eA.parse_error?eA.parse_error:void 0,eJ=eA&&"string"==typeof eA.run_id?eA.run_id:void 0,eK=eA&&"string"==typeof eA.tag?eA.tag:void 0;return(0,r.jsx)("main",{className:"min-h-screen bg-[var(--background)] text-[var(--foreground)]",children:(0,r.jsxs)("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-6 px-5 py-10",children:[(0,r.jsxs)("header",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"XPU Hardware Demo"}),(0,r.jsx)("p",{className:"text-sm opacity-80",children:"1s polling of XPU server metrics over Tailscale"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(s.default,{href:"/",className:"rounded-lg border border-black/10 bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"Home"}),(0,r.jsx)(s.default,{href:"/road-vision",className:"rounded-lg border border-black/10 bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"Road Vision"}),(0,r.jsx)(s.default,{href:"/llm",className:"rounded-lg border border-black/10 bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"LLM Demo"}),(0,r.jsxs)("span",{className:a("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm",!0===F&&"border-emerald-500/30 bg-emerald-500/10 text-emerald-200",!1===F&&"border-rose-500/30 bg-rose-500/10 text-rose-200",null==F&&"border-black/10 bg-black/5 text-black/60 dark:border-white/10 dark:bg-white/5 dark:text-white/60"),title:B??"",children:["XPU ",!0===F?"OK":!1===F?"DOWN":"…"]}),(0,r.jsx)("button",{onClick:()=>{eN(),ek(!0)},className:"rounded-lg border border-black/10 bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"Refresh"})]})]}),(B||D)&&(0,r.jsxs)("div",{className:"rounded-xl border border-rose-500/30 bg-rose-500/10 p-3 text-sm text-rose-200",children:[(0,r.jsx)("div",{className:"font-medium",children:"Error"}),(0,r.jsx)("div",{className:"mt-1 whitespace-pre-wrap opacity-90",children:B??D})]})]}),(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium opacity-80",children:"XPU Hardware"}),(0,r.jsx)("div",{className:"mt-1 text-xs opacity-70",children:T?.ts!=null?`updated ${n(T.ts)}`:"updated —"})]}),(0,r.jsxs)("div",{className:"text-xs opacity-70",children:["API: ",(0,r.jsx)("span",{className:"font-mono",children:"/api/roadvision/metrics"})]})]}),(0,r.jsxs)("div",{className:"mt-3 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsx)(q,{title:"CPU (system)",value:i(T?.cpu_sys_pct),pct:l(T?.cpu_sys_pct),sub:[T?.cpu_cores!=null?`cores ${T.cpu_cores}`:null,T?.cpu_load1!=null||T?.cpu_load5!=null||T?.cpu_load15!=null?`load ${c(T?.cpu_load1)} / ${c(T?.cpu_load5)} / ${c(T?.cpu_load15)}`:null].filter(Boolean).join(" · ")||void 0,breakdownLabel:"details",breakdown:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 font-mono tabular-nums",children:[(0,r.jsx)("div",{className:"opacity-70",children:"cpu_sys_pct"}),(0,r.jsx)("div",{className:"text-right",children:i(T?.cpu_sys_pct)}),(0,r.jsx)("div",{className:"opacity-70",children:"cpu_cores"}),(0,r.jsx)("div",{className:"text-right",children:T?.cpu_cores??"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"cpu_load1"}),(0,r.jsx)("div",{className:"text-right",children:c(T?.cpu_load1)}),(0,r.jsx)("div",{className:"opacity-70",children:"cpu_load5"}),(0,r.jsx)("div",{className:"text-right",children:c(T?.cpu_load5)}),(0,r.jsx)("div",{className:"opacity-70",children:"cpu_load15"}),(0,r.jsx)("div",{className:"text-right",children:c(T?.cpu_load15)})]})}),(0,r.jsx)(q,{title:"RAM (system)",value:T?.mem_used_mb!=null&&T?.mem_total_mb!=null?`${d(T.mem_used_mb)} / ${d(T.mem_total_mb)}`:i(T?.mem_sys_pct),pct:l(T?.mem_sys_pct),sub:[T?.mem_avail_mb!=null?`avail ${d(T.mem_avail_mb)}`:null,T?.swap_used_mb!=null&&T?.swap_total_mb!=null?`swap ${d(T.swap_used_mb)} / ${d(T.swap_total_mb)}`:null].filter(Boolean).join(" · ")||void 0,breakdownLabel:"details",breakdown:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 font-mono tabular-nums",children:[(0,r.jsx)("div",{className:"opacity-70",children:"mem_sys_pct"}),(0,r.jsx)("div",{className:"text-right",children:i(T?.mem_sys_pct)}),(0,r.jsx)("div",{className:"opacity-70",children:"mem_total_mb"}),(0,r.jsx)("div",{className:"text-right",children:d(T?.mem_total_mb)}),(0,r.jsx)("div",{className:"opacity-70",children:"mem_used_mb"}),(0,r.jsx)("div",{className:"text-right",children:d(T?.mem_used_mb)}),(0,r.jsx)("div",{className:"opacity-70",children:"mem_avail_mb"}),(0,r.jsx)("div",{className:"text-right",children:d(T?.mem_avail_mb)}),(0,r.jsx)("div",{className:"opacity-70",children:"swap_total_mb"}),(0,r.jsx)("div",{className:"text-right",children:d(T?.swap_total_mb)}),(0,r.jsx)("div",{className:"opacity-70",children:"swap_used_mb"}),(0,r.jsx)("div",{className:"text-right",children:d(T?.swap_used_mb)})]})}),(0,r.jsx)(q,{title:"XPU (intel_gpu_top)",value:i(e$),pct:l(e$),sub:[eS?.name?`engine ${eS.name}`:null,p(ey)?`src ${p(ey)}`:null,ey&&!(!(!ey||"intel_gpu_top"!==p(ey)||!1===ey.xpu_busy_ok||null!=ey.xpu_busy_age_s&&Number.isFinite(Number(ey.xpu_busy_age_s))&&Number(ey.xpu_busy_age_s)>3)&&1)?"unreliable":null,null!=h(ey)||null!=_(ey)?`freq ${o(h(ey)??void 0)} / ${o(_(ey)??void 0)}`:null,ey?.xpu_rc6_pct!=null?`rc6 ${i(ey.xpu_rc6_pct)}`:null,ey?.xpu_power_gpu_w!=null||ey?.xpu_power_pkg_w!=null?`pwr ${u(ey?.xpu_power_gpu_w)} / ${u(ey?.xpu_power_pkg_w)}`:null,ey?.xpu_period_ms!=null?`period ${Math.round(ey.xpu_period_ms)}ms`:null].filter(Boolean).join(" · ")||void 0,extra:(0,r.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-x-6 gap-y-1 font-mono text-xs tabular-nums",children:f(ey).map(([e,s])=>(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"truncate opacity-70",children:e}),(0,r.jsx)("div",{className:"text-right",children:i(s)})]},e))}),breakdownLabel:"engines",breakdown:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"text-xs opacity-70",children:["Reliable when ",(0,r.jsx)("span",{className:"font-mono",children:"xpu_busy_src=intel_gpu_top"})," and ",(0,r.jsx)("span",{className:"font-mono",children:"xpu_busy_ok=true"})," (and recent)."]}),(0,r.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-x-6 gap-y-1 font-mono tabular-nums",children:[(0,r.jsx)("div",{className:"opacity-70",children:"engine"}),(0,r.jsx)("div",{className:"text-right",children:eS?.name??"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"util"}),(0,r.jsx)("div",{className:"text-right",children:i(e$)}),ey?.xpu_busy_ok!=null?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"busy_ok"}),(0,r.jsx)("div",{className:"text-right",children:String(ey.xpu_busy_ok)})]}):null,ey?.xpu_busy_age_s!=null?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"busy_age"}),(0,r.jsxs)("div",{className:"text-right",children:[Number(ey.xpu_busy_age_s).toFixed(2),"s"]})]}):null,ey?.xpu_busy_error?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"busy_error"}),(0,r.jsx)("div",{className:"text-right",children:String(ey.xpu_busy_error)})]}):null,null!=h(ey)||null!=_(ey)?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"freq"}),(0,r.jsxs)("div",{className:"text-right",children:[o(h(ey)??void 0)," / ",o(_(ey)??void 0)]})]}):null,ey?.xpu_rc6_pct!=null?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"rc6"}),(0,r.jsx)("div",{className:"text-right",children:i(ey.xpu_rc6_pct)})]}):null,ey?.xpu_power_gpu_w!=null||ey?.xpu_power_pkg_w!=null?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"power"}),(0,r.jsxs)("div",{className:"text-right",children:[u(ey?.xpu_power_gpu_w)," / ",u(ey?.xpu_power_pkg_w)]})]}):null,ey?.xpu_period_ms!=null?(0,r.jsxs)("div",{className:"contents",children:[(0,r.jsx)("div",{className:"opacity-70",children:"period"}),(0,r.jsxs)("div",{className:"text-right",children:[Math.round(ey.xpu_period_ms),"ms"]})]}):null]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsx)("div",{className:"text-xs font-medium opacity-70",children:"engines_busy_pct"}),(0,r.jsx)("div",{className:"mt-2 rounded-lg bg-black/5 p-2 font-mono text-xs tabular-nums dark:bg-white/5",children:f(ey).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("span",{className:"truncate opacity-80",children:e}),(0,r.jsx)("span",{children:i(s)})]},e))})]}),g(ey)?(0,r.jsxs)("div",{className:"mt-2 text-xs opacity-70",children:["device: ",String(g(ey))]}):null]})}),(0,r.jsx)(q,{title:"Level Zero",value:i(S(ew)??void 0),pct:l(S(ew)??void 0),sub:[ew?.source?`src ${ew.source}`:null,ew?.xpu_ze_ok!=null?`ok ${String(ew.xpu_ze_ok)}`:ew?.ok!=null?`ok ${String(ew.ok)}`:null,ew?.xpu_ze_age_s!=null?`age ${Number(ew.xpu_ze_age_s).toFixed(2)}s`:null,ez?.actual_mhz!=null||ez?.request_mhz!=null?`freq ${o(ez?.actual_mhz)} / ${o(ez?.request_mhz)}`:null,eq.length?`extras_err ${eq.join(",")}`:null,null!=y(ew)?`render ${i(y(ew)??void 0)}`:null,null!=w(ew)?`copy ${i(w(ew)??void 0)}`:null].filter(Boolean).join(" · ")||void 0,breakdownLabel:"engines",breakdown:(0,r.jsxs)("div",{children:[ew?.xpu_ze_extras_error&&Object.keys(ew.xpu_ze_extras_error).length?(0,r.jsx)("div",{className:"rounded-lg bg-black/5 p-2 text-xs opacity-80 dark:bg-white/5",children:Object.entries(ew.xpu_ze_extras_error).map(([e,s])=>(0,r.jsxs)("div",{className:"mt-1 first:mt-0",children:[(0,r.jsx)("span",{className:"font-mono opacity-80",children:e}),": ",(0,r.jsx)("span",{className:"opacity-90",children:String(s)})]},e))}):null,ew?.xpu_ze_engine_util_pct?(0,r.jsx)("div",{className:"mt-2 max-h-56 overflow-auto rounded-lg bg-black/5 p-2 font-mono text-xs tabular-nums dark:bg-white/5",children:k(ew.xpu_ze_engine_util_pct).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("span",{className:"truncate opacity-80",children:e}),(0,r.jsx)("span",{children:i(s)})]},e))}):null]})})]})]}),(0,r.jsxs)("section",{className:"rounded-2xl border border-black/10 bg-black/5 p-5 dark:border-white/10 dark:bg-white/5",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm font-medium opacity-80",children:"Bench (matmul)"}),(0,r.jsxs)("div",{className:"mt-1 text-xs opacity-70",children:[K?.receivedAt?`updated ${new Date(K.receivedAt).toLocaleString()}`:"updated —",ev?.ts!=null?(0,r.jsxs)(r.Fragment,{children:[" ","· ts ",(0,r.jsx)("span",{className:"font-mono",children:n(ev.ts)})]}):null]}),(0,r.jsxs)("div",{className:"mt-1 text-xs opacity-70",children:["API: ",(0,r.jsx)("span",{className:"font-mono",children:"/api/xpu/matmul"})," (Next server proxies to XPU via"," ",(0,r.jsx)("span",{className:"font-mono",children:"RV_REMOTE_BASE_URL"}),")"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:a("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm",Z&&"border-sky-500/30 bg-sky-500/10 text-sky-200",!Z&&!0===eF&&"border-emerald-500/30 bg-emerald-500/10 text-emerald-200",!Z&&!1===eF&&"border-rose-500/30 bg-rose-500/10 text-rose-200",!Z&&null==eF&&"border-black/10 bg-black/5 text-black/60 dark:border-white/10 dark:bg-white/5 dark:text-white/60"),title:eH??eG??G??"",children:Z?"RUNNING":!0===eF?"OK":!1===eF?"FAIL":"NO DATA"}),(0,r.jsx)("button",{onClick:()=>ej(),className:"rounded-lg border border-black/10 bg-black/5 px-3 py-1.5 text-sm hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"Refresh"})]})]}),G?(0,r.jsxs)("div",{className:"mt-3 rounded-xl border border-rose-500/30 bg-rose-500/10 p-3 text-sm text-rose-200",children:[(0,r.jsx)("div",{className:"font-medium",children:"Bench error"}),(0,r.jsxs)("div",{className:"mt-1 whitespace-pre-wrap opacity-90",children:[G,"\n","\n","XPU server must implement:","\n","- POST /matmul (run)","\n","- GET /matmul (last snapshot)"]})]}):null,(0,r.jsxs)("div",{className:"mt-4 grid gap-4 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-xl border border-black/10 bg-[var(--background)] p-4 text-sm dark:border-white/10",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"font-medium opacity-80",children:"Run"}),(0,r.jsx)("button",{onClick:()=>ef(),disabled:Z,className:a("rounded-lg border border-black/10 px-3 py-1.5 text-sm font-medium dark:border-white/10",Z?"cursor-not-allowed bg-black/5 opacity-60 dark:bg-white/5":"bg-black/10 hover:bg-black/15 dark:bg-white/10 dark:hover:bg-white/15"),children:"Run"})]}),(0,r.jsxs)("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs font-medium opacity-70",children:"bench"}),(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:["sycl","onednn","compare"].map(e=>(0,r.jsx)("button",{onClick:()=>ee(e),className:a("rounded-full border px-3 py-1 text-xs font-medium",Y===e?"border-emerald-500/30 bg-emerald-500/10 text-emerald-200":"border-black/10 bg-black/5 text-black/70 hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:text-white/70 dark:hover:bg-white/10"),children:e},e))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("label",{className:"text-xs",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"N"}),(0,r.jsx)("input",{type:"number",min:128,step:128,value:er,onChange:e=>es(Number(e.target.value)),className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"iters"}),(0,r.jsx)("input",{type:"number",min:1,step:1,value:el,onChange:e=>en(Number(e.target.value)),className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs",children:[(0,r.jsx)("div",{className:a("font-medium opacity-70","sycl"!==Y&&"opacity-40"),children:"tile (sycl)"}),(0,r.jsx)("input",{type:"number",min:4,step:4,value:et,onChange:e=>ea(Number(e.target.value)),disabled:"sycl"!==Y,className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black disabled:opacity-50 dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"sample_ms"}),(0,r.jsx)("input",{type:"number",min:50,step:50,value:ei,onChange:e=>ed(Number(e.target.value)),className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs col-span-2",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"max_samples"}),(0,r.jsx)("input",{type:"number",min:1,step:1,value:ec,onChange:e=>eo(Number(e.target.value)),className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"run_id"}),(0,r.jsx)("input",{value:eu,onChange:e=>em(e.target.value),placeholder:"optional",className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"tag"}),(0,r.jsx)("input",{value:eb,onChange:e=>ex(e.target.value),placeholder:"optional",className:"mt-1 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]}),(0,r.jsxs)("label",{className:"text-xs col-span-2",children:[(0,r.jsx)("div",{className:"font-medium opacity-70",children:"note"}),(0,r.jsx)("textarea",{value:ep,onChange:e=>eh(e.target.value),placeholder:"optional (stored with this run on the XPU server if supported)",className:"mt-1 h-16 w-full rounded-lg border border-black/10 bg-white px-2 py-1 font-mono text-xs text-black dark:border-white/10 dark:bg-black/20 dark:text-white"})]})]})]}),(0,r.jsxs)("details",{className:"mt-3 text-xs opacity-80",children:[(0,r.jsx)("summary",{className:"cursor-pointer select-none opacity-70",children:"request payload"}),(0,r.jsx)("div",{className:"mt-2 rounded-lg bg-black/5 p-3 font-mono text-xs dark:bg-white/5",children:JSON.stringify({bench:Y,N:er,..."sycl"===Y?{tile:et}:{},iters:el,sample_ms:ei,max_samples:ec,...eu.trim()?{run_id:eu.trim()}:{},...eb.trim()?{tag:eb.trim()}:{},...ep.trim()?{note:ep.trim()}:{}},null,2)})]}),e_.length?(0,r.jsxs)("details",{className:"mt-3 text-xs opacity-80",children:[(0,r.jsxs)("summary",{className:"cursor-pointer select-none opacity-70",children:["history (",e_.length,")"]}),(0,r.jsxs)("div",{className:"mt-2 rounded-lg bg-black/5 p-2 text-xs dark:bg-white/5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-2 pb-2",children:[(0,r.jsx)("div",{className:"opacity-70",children:"click to view (disables live)"}),(0,r.jsx)("button",{onClick:()=>eg([]),className:"rounded-md border border-black/10 bg-black/5 px-2 py-1 text-xs hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"clear"})]}),(0,r.jsx)("div",{className:"max-h-56 overflow-auto",children:e_.map(e=>(0,r.jsxs)("button",{onClick:()=>{M(!1),H(e.response)},className:"flex w-full items-start justify-between gap-3 rounded-md px-2 py-2 text-left hover:bg-black/10 dark:hover:bg-white/10",children:[(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsxs)("div",{className:"truncate font-mono opacity-80",children:[new Date(e.receivedAt).toLocaleTimeString()," · ",String(e.request.bench??"—")," · N ",String(e.request.N??"—"),null!=e.request.tile?` \xb7 tile ${String(e.request.tile)}`:""," · iters ",String(e.request.iters??"—")]}),(0,r.jsxs)("div",{className:"truncate opacity-70",children:[e.request.run_id?`run_id=${String(e.request.run_id)} `:"",e.request.tag?`tag=${String(e.request.tag)} `:"",e.request.note?`note=${String(e.request.note)}`:""]})]}),(0,r.jsx)("div",{className:"shrink-0 font-mono tabular-nums opacity-70",children:e.response?.ok===!0?"ok":e.response?.ok===!1?"fail":"—"})]},e.id))})]})]}):null]}),(0,r.jsxs)("div",{className:"rounded-xl border border-black/10 bg-[var(--background)] p-4 text-sm dark:border-white/10",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsx)("div",{className:"font-medium opacity-80",children:"Latest"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-xs opacity-70",children:U?"live":"history"}),U?null:(0,r.jsx)("button",{onClick:()=>{M(!0),H(null)},className:"rounded-md border border-black/10 bg-black/5 px-2 py-1 text-xs hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:hover:bg-white/10",children:"live"})]})]}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[K?.target?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["target: ",(0,r.jsx)("span",{className:"font-mono",children:K.target})]}):null,K?.status!=null?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["status: ",(0,r.jsx)("span",{className:"font-mono",children:K.status})]}):null,(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["ok: ",(0,r.jsx)("span",{className:"font-mono",children:null==eF?"—":String(eF)})]}),(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["kind: ",(0,r.jsx)("span",{className:"font-mono",children:ev?.kind??"—"})]}),(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["bench_kind: ",(0,r.jsx)("span",{className:"font-mono",children:eC?.kind??"—"})]}),eJ?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["run_id: ",(0,r.jsx)("span",{className:"font-mono",children:eJ})]}):null,eK?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["tag: ",(0,r.jsx)("span",{className:"font-mono",children:eK})]}):null,eB?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["device: ",(0,r.jsx)("span",{className:"font-mono",children:eB})]}):null,"number"==typeof eP?.duration_ms?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["duration: ",(0,r.jsx)("span",{className:"font-mono",children:m(eP.duration_ms)})]}):null,null!=eV?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["run: ",(0,r.jsx)("span",{className:"font-mono",children:null!=eV&&Number.isFinite(eV)?`${eV.toFixed(eV>=10?1:2)}s`:"—"})]}):null,null!=eX?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["xpu_busy_avg: ",(0,r.jsx)("span",{className:"font-mono",children:i(eX)})]}):null,null!=eI?(0,r.jsxs)("span",{className:"rounded-full border border-black/10 bg-black/5 px-2 py-0.5 text-xs dark:border-white/10 dark:bg-white/5",children:["xpu_busy_max: ",(0,r.jsx)("span",{className:"font-mono",children:i(eI)})]}):null]}),eH||eG?(0,r.jsxs)("details",{className:"mt-3 text-xs opacity-80",children:[(0,r.jsx)("summary",{className:"cursor-pointer select-none opacity-70",children:"stderr / parse"}),(0,r.jsxs)("div",{className:"mt-2 rounded-lg bg-black/5 p-3 font-mono text-xs dark:bg-white/5",children:[eG?(0,r.jsxs)("div",{className:"whitespace-pre-wrap",children:["parse_error: ",eG]}):null,eH?(0,r.jsx)("div",{className:a(eG&&"mt-2","whitespace-pre-wrap"),children:eH}):null]})]}):null,eC?(0,r.jsxs)("details",{className:"mt-3 text-xs opacity-80",open:!0,children:[(0,r.jsx)("summary",{className:"cursor-pointer select-none opacity-70",children:"bench result"}),(0,r.jsx)("div",{className:"mt-2 rounded-lg bg-black/5 p-3 font-mono text-xs tabular-nums dark:bg-white/5",children:"bench_final_compare"===eC.kind&&Array.isArray(eC.data?.rows)?(0,r.jsx)(A,{rows:eC.data.rows}):"onednn_cpp"===eC.kind?(0,r.jsx)(C,{data:eC.data}):"sycl_slm_matmul"===eC.kind?(0,r.jsx)(P,{data:eC.data}):(0,r.jsx)("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(eC.data,null,2)})})]}):(0,r.jsxs)("div",{className:"mt-3 text-xs opacity-70",children:["No snapshot yet. Click ",(0,r.jsx)("span",{className:"font-medium",children:"Run"})," or ensure the XPU server serves"," ",(0,r.jsx)("span",{className:"font-mono",children:"GET /matmul"}),"."]}),eO.length?(0,r.jsxs)("details",{className:"mt-3 text-xs opacity-80",children:[(0,r.jsxs)("summary",{className:"cursor-pointer select-none opacity-70",children:["samples (",eO.length,")"]}),(0,r.jsx)("div",{className:"mt-2 overflow-auto rounded-lg bg-black/5 p-3 font-mono text-xs dark:bg-white/5",children:(0,r.jsxs)("table",{className:"w-full min-w-[520px] border-separate border-spacing-0 text-left font-mono text-xs",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-xs opacity-70",children:[(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"ts"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"busy"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"src"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"freq"})]})}),(0,r.jsx)("tbody",{children:eO.slice(-20).map((e,s)=>(0,r.jsxs)("tr",{className:s%2?"bg-black/5 dark:bg-white/5":"",children:[(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:n(e.ts)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:i(e.xpu_busy_pct)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 dark:border-white/10",children:String(e.xpu_busy_src??"—")}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:null!=e.xpu_freq_act_mhz||null!=e.xpu_freq_req_mhz?`${o(e.xpu_freq_act_mhz)} / ${o(e.xpu_freq_req_mhz)}`:o(e.xpu_freq_mhz)})]},String(e.ts??s)))})]})})]}):null]})]})]})]})})}function A({rows:e}){let s=Array.isArray(e)?e:[],t=s.map(e=>Number.isFinite(Number(e?.ratio_onednn_over_custom))?Number(e.ratio_onednn_over_custom):null).filter(e=>null!=e),a=t.length?t.reduce((e,r)=>e+r,0)/t.length:void 0,l=t.length?Math.max(...t):void 0,n=null!=l?s.find(e=>Number.isFinite(Number(e?.ratio_onednn_over_custom))&&Number(e.ratio_onednn_over_custom)===l):null;return(0,r.jsxs)("div",{className:"overflow-auto",children:[(0,r.jsxs)("div",{className:"mb-2 grid grid-cols-2 gap-x-6 gap-y-1 font-mono text-xs tabular-nums opacity-80",children:[(0,r.jsx)("div",{className:"opacity-70",children:"rows"}),(0,r.jsx)("div",{children:s.length}),(0,r.jsx)("div",{className:"opacity-70",children:"ratio_avg"}),(0,r.jsx)("div",{children:null!=a?b(a,3):"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"ratio_max"}),(0,r.jsx)("div",{children:null!=l?b(l,3):"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"best_N"}),(0,r.jsx)("div",{children:n&&"number"==typeof n?.N?n.N:"—"})]}),(0,r.jsxs)("table",{className:"w-full min-w-[720px] border-separate border-spacing-0 text-left font-mono text-xs",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-xs opacity-70",children:[(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"N"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"Custom (ms)"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"Custom (GFLOPS)"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"oneDNN (ms)"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"oneDNN (GFLOPS)"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"Ratio"})]})}),(0,r.jsx)("tbody",{children:s.map((e,s)=>(0,r.jsxs)("tr",{className:s%2?"bg-black/5 dark:bg-white/5":"",children:[(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:e?.N??"—"}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.custom_ms,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.custom_gflops,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.onednn_ms,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.onednn_gflops,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.ratio_onednn_over_custom,3)})]},String(e?.N??s)))})]})]})}function C({data:e}){let s=$(e?.config)?e.config:null;return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 font-mono tabular-nums",children:[(0,r.jsx)("div",{className:"opacity-70",children:"device"}),(0,r.jsx)("div",{children:"string"==typeof e?.device?e.device:"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"N"}),(0,r.jsx)("div",{children:s&&"number"==typeof s.N?s.N:"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"iters"}),(0,r.jsx)("div",{children:s&&"number"==typeof s.iters?s.iters:"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"checksum_first16"}),(0,r.jsx)("div",{className:"truncate",children:"string"==typeof e?.checksum_first16?e.checksum_first16:"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"avg_kernel_ms"}),(0,r.jsx)("div",{children:"number"==typeof e?.avg_kernel_ms?m(e.avg_kernel_ms):"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"gflops"}),(0,r.jsx)("div",{children:"number"==typeof e?.gflops?b(e.gflops,3):"—"})]})}function P({data:e}){let s=$(e?.config)?e.config:null,t=Array.isArray(e?.kernels)?e.kernels:[],a=Array.isArray(e?.phase4)?e.phase4:[];return(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 font-mono tabular-nums",children:[(0,r.jsx)("div",{className:"opacity-70",children:"N"}),(0,r.jsx)("div",{children:s&&"number"==typeof s.N?s.N:"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"tile"}),(0,r.jsx)("div",{children:s&&"number"==typeof s.tile?s.tile:"—"}),(0,r.jsx)("div",{className:"opacity-70",children:"iters"}),(0,r.jsx)("div",{children:s&&"number"==typeof s.iters?s.iters:"—"})]}),a.length?(0,r.jsxs)("div",{className:"overflow-auto",children:[(0,r.jsx)("div",{className:"text-xs font-medium opacity-70",children:"phase4"}),(0,r.jsxs)("table",{className:"mt-2 w-full min-w-[560px] border-separate border-spacing-0 text-left font-mono text-xs",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-xs opacity-70",children:[(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"name"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"gflops"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"diff"})]})}),(0,r.jsx)("tbody",{children:a.map((e,s)=>(0,r.jsxs)("tr",{className:s%2?"bg-black/5 dark:bg-white/5":"",children:[(0,r.jsx)("td",{className:"border-b border-black/10 p-2 dark:border-white/10",children:String(e?.name??"—")}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.gflops,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.diff,6)})]},String(e?.name??s)))})]})]}):null,t.length?(0,r.jsxs)("div",{className:"overflow-auto",children:[(0,r.jsx)("div",{className:"text-xs font-medium opacity-70",children:"kernels"}),(0,r.jsxs)("table",{className:"mt-2 w-full min-w-[560px] border-separate border-spacing-0 text-left font-mono text-xs",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-xs opacity-70",children:[(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"name"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"kernel_ms"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"total_ms"}),(0,r.jsx)("th",{className:"border-b border-black/10 p-2 dark:border-white/10",children:"gflops"})]})}),(0,r.jsx)("tbody",{children:t.map((e,s)=>(0,r.jsxs)("tr",{className:s%2?"bg-black/5 dark:bg-white/5":"",children:[(0,r.jsx)("td",{className:"border-b border-black/10 p-2 dark:border-white/10",children:String(e?.name??"—")}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.kernel_ms,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.total_ms,3)}),(0,r.jsx)("td",{className:"border-b border-black/10 p-2 tabular-nums dark:border-white/10",children:b(e?.gflops,3)})]},String(e?.name??s)))})]})]}):(0,r.jsx)("div",{className:"text-xs opacity-60",children:"no kernels parsed"})]})}e.s(["default",()=>F])}]);